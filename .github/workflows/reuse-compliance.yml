# SPDX-FileCopyrightText: 2025-2026 Chimera-NAS Project Contributors
# SPDX-License-Identifier: Unlicense

name: REUSE Compliance Check

on:
  push:
    branches: [ main ]
  pull_request:

jobs:
  reuse-lint:
    runs-on: arc-amd64
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.x'
        
    - name: Install reuse tool
      run: |
        pip install --upgrade pip -i http://repository.mdh.quantum.com/repository/pypi-proxy/simple/ --trusted-host repository.mdh.quantum.com
        pip install reuse -i http://repository.mdh.quantum.com/repository/pypi-proxy/simple/ --trusted-host repository.mdh.quantum.com
        
    - name: Run REUSE lint
      run: |
        reuse lint

    - name: Check copyright years
      run: |
        bash etc/copyright-year.sh --check --base origin/${{ github.base_ref }}